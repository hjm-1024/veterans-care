<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>ì¹´ì¹´ì˜¤ ì§€ë„ í…ŒìŠ¤íŠ¸</title>
</head>
<body>
    <h1>ì¹´ì¹´ì˜¤ ì§€ë„ ê¸°ë³¸ í…ŒìŠ¤íŠ¸</h1>
    <div id="map" style="width:500px;height:400px;"></div>
    <button onclick="testLocation()">ìœ„ì¹˜ í…ŒìŠ¤íŠ¸</button>
    <div id="status" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc;"></div>
    
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=796a42e6ccbb3a6ae2f7268a24f574ee"></script>
    <script>
        function updateStatus(message) {
            document.getElementById('status').innerHTML = message;
            console.log(message);
        }
        
        // ì¹´ì¹´ì˜¤ë§µ ê¸°ë³¸ í…ŒìŠ¤íŠ¸
        if (typeof kakao === 'undefined') {
            updateStatus('âŒ ì¹´ì¹´ì˜¤ë§µ APIê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
        } else {
            updateStatus('âœ… ì¹´ì¹´ì˜¤ë§µ API ë¡œë“œë¨');
            
            var container = document.getElementById('map');
            var options = {
                center: new kakao.maps.LatLng(33.450701, 126.570667),
                level: 3
            };

            var map = new kakao.maps.Map(container, options);
            updateStatus('âœ… ì¹´ì¹´ì˜¤ë§µ ì´ˆê¸°í™” ì™„ë£Œ');
        }
        
        // ìœ„ì¹˜ í…ŒìŠ¤íŠ¸
        function testLocation() {
            updateStatus('ğŸ“ ìœ„ì¹˜ ìš”ì²­ ì¤‘...');
            
            if (!navigator.geolocation) {
                updateStatus('âŒ ë¸Œë¼ìš°ì €ê°€ ìœ„ì¹˜ ì •ë³´ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                return;
            }
            
            navigator.geolocation.getCurrentPosition(
                function(position) {
                    const lat = position.coords.latitude;
                    const lng = position.coords.longitude;
                    updateStatus(`âœ… ìœ„ì¹˜ íšë“: ${lat.toFixed(4)}, ${lng.toFixed(4)}`);
                    
                    // ì§€ë„ì— ì‚¬ìš©ì ìœ„ì¹˜ í‘œì‹œ
                    if (typeof map !== 'undefined') {
                        const userPos = new kakao.maps.LatLng(lat, lng);
                        map.setCenter(userPos);
                        
                        const marker = new kakao.maps.Marker({
                            position: userPos,
                            map: map
                        });
                    }
                },
                function(error) {
                    updateStatus(`âŒ ìœ„ì¹˜ íšë“ ì‹¤íŒ¨: ${error.message}`);
                }
            );
        }
    </script>
</body>
</html>